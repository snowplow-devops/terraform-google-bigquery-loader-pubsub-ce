{
  "input": {
    "subscription": ${input_subscription_id}
  }

  "output": {
    "good": {
      "project": ${project_id}
      "dataset": ${dataset_id}
      "table": ${table_id}

    %{ if bigquery_service_account_json_b64 != "" ~}
      "credentials": $${BIGQUERY_SERVICE_ACCOUNT_JSON}
    %{ endif ~}
    }

    "bad": {
      "topic": ${bad_rows_topic_id}
    }
  }

  "skipSchemas": ${skip_schemas}

  "legacyColumnMode": ${legacy_column_mode}

  "exitOnMissingIgluSchema": ${exit_on_missing_iglu_schema}

  "legacyColumns": ${legacy_columns}

%{ if webhook_collector != "" ~}
  "monitoring": {
    "webhook": {
      "endpoint": "${webhook_collector}",
      "tags": ${tags} 
    }
  }
%{ endif ~}

 "telemetry": {
   "disable": ${telemetry_disable}
   "interval": 15 minutes
   "method": "POST"
   "collectorUri": "${telemetry_collector_uri}"
   "collectorPort": ${telemetry_collector_port}
   "secure": ${telemetry_secure}
   "userProvidedId": "${telemetry_user_provided_id}"
   "autoGeneratedId": "${telemetry_auto_gen_id}"
   "moduleName": "${telemetry_module_name}"
   "moduleVersion": "${telemetry_module_version}"
   "instanceId": $${INSTANCE_ID}
  }
}
